function resolvePlaceholdersFromLayout(container, payload) {
  const result = {};

  function getNestedValue(obj, path) {
    const keys = path.split(".");
    let current = obj;
    for (const key of keys) {
      if (current && typeof current === "object" && key in current) {
        current = current[key];
      } else {
        return undefined;
      }
    }
    return current;
  }

  function findColumnById(columnId) {
    function search(columns) {
      for (const column of columns) {
        if (column.id === columnId) return column;

        if (column.layout) {
          for (const nestedRow of column.layout) {
            const found = search(nestedRow.row);
            if (found) return found;
          }
        }
      }
      return null;
    }

    for (const layout of container) {
      for (const row of layout.layout) {
        const column = search(row.row);
        if (column) return column;
      }
    }

    return null;
  }

  for (const label in payload) {
    const placeholder = payload[label]; // e.g. "{col-1.settings.label}"
    const match = placeholder.match(/^\{(.+?)\.(.+?)\}$/); // captures colId and rest of the path

    if (match) {
      const [, colId, path] = match;
      const column = findColumnById(colId);
      const value = column ? getNestedValue(column, path) : undefined;
      result[label] = value !== undefined ? value : "";
    } else {
      result[label] = placeholder;
    }
  }

  return result;
}




const payload = {
  "Label": "{col-1.settings.label}",
  "Width": "{col-2.width}",
  "Deep Name": "{col-3.meta.display.name}",
  "Missing": "{col-999.title}"
};
